<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery | BetterWLPRS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: #0a0a0f;
            color: #fff;
        }
        
        .wallpaper-card {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: #1a1a24;
        }
        
        .wallpaper-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.3);
        }
        
        .wallpaper-card img {
            width: 100%;
            height: 240px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .wallpaper-card:hover img {
            transform: scale(1.05);
        }
        
        .tag {
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.4);
            color: #a78bfa;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .category-btn {
            width: 100%;
            text-align: left;
            padding: 12px 16px;
            border-radius: 8px;
            transition: all 0.2s ease;
            color: #9ca3af;
            font-weight: 500;
        }
        
        .category-btn:hover {
            background: rgba(139, 92, 246, 0.1);
            color: #a78bfa;
        }
        
        .category-btn.active {
            background: rgba(139, 92, 246, 0.2);
            color: #a78bfa;
            border-left: 3px solid #8b5cf6;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            max-width: 90vw;
            max-height: 90vh;
            position: relative;
            animation: modalFadeIn 0.3s ease;
        }
        
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .close-modal {
            position: absolute;
            top: -40px;
            right: 0;
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.4);
            color: #fff;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
            transition: all 0.2s ease;
        }
        
        .close-modal:hover {
            background: rgba(139, 92, 246, 0.4);
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Collection Section Styles */
        .collection-section {
            margin-bottom: 4rem;
        }
        
        .section-header {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .section-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            height: 2px;
            background: linear-gradient(90deg, #a787ff, #6366f1, transparent);
            width: 100%;
        }
        
        .section-emoji {
            font-size: 2rem;
            margin-right: 0.75rem;
            display: inline-block;
        }
        
        .section-title {
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #a787ff, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
            display: inline;
        }
        
        .section-subtitle {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 0.5rem;
            font-weight: 400;
        }
        
        .section-count {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 0.25rem;
        }
        
        .sidebar-container {
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .sidebar-container.collapsed {
            width: 60px;
        }
        
        .sidebar-container.collapsed aside {
            width: 60px;
            overflow: hidden;
        }
        
        .sidebar-container.collapsed .sidebar-content {
            opacity: 0;
            pointer-events: none;
        }
        
        .toggle-sidebar {
            position: absolute;
            top: 12px;
            right: -12px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            color: #a78bfa;
            font-size: 18px;
        }
        
        .toggle-sidebar:hover {
            background: rgba(139, 92, 246, 0.3);
            transform: scale(1.1);
        }
        
        .sidebar-content {
            transition: opacity 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .sidebar-container {
                position: fixed;
                left: 0;
                top: 72px;
                z-index: 40;
                transform: translateX(0);
            }
            
            .sidebar-container.collapsed {
                transform: translateX(-100%);
            }
            
            .toggle-sidebar {
                right: -40px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="border-b border-gray-800 bg-[#0a0a0f]/80 backdrop-blur-lg sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex items-center justify-between">
            <a href="index.html" class="text-2xl font-bold">
                <span class="text-white">Better</span><span class="text-purple-500">WLPRS</span>
            </a>
            <nav class="flex items-center gap-6">
                <a href="index.html" class="text-gray-400 hover:text-white transition">Home</a>
                <a href="galeria.html" class="text-purple-500 font-medium">Gallery</a>
                <a href="index.html#how" class="text-gray-400 hover:text-white transition">How it works</a>
            </nav>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8 flex gap-8">
        <!-- Sidebar -->
        <div class="sidebar-container collapsed w-64 flex-shrink-0">
            <button class="toggle-sidebar" id="toggleSidebar" title="Expand sidebar">
                ‚ñ∂
            </button>
            <aside class="sticky top-24 h-fit">
                <div class="bg-[#13131a] rounded-xl p-6 border border-gray-800 sidebar-content">
                    <!-- Search -->
                    <div class="mb-6">
                        <input 
                            type="text" 
                            id="searchInput"
                            placeholder="Search wallpapers..." 
                            class="w-full bg-[#1a1a24] border border-gray-700 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition"
                        >
                    </div>

                    <!-- Moods -->
                    <div class="mb-6">
                        <h3 class="text-sm font-semibold text-gray-400 uppercase mb-3">Collections</h3>
                        <div class="space-y-1">
                            <button class="category-btn active" data-category="all">‚ú® All Collections</button>
                            <button class="category-btn" data-category="dark-moody">üåô Dark & Moody</button>
                            <button class="category-btn" data-category="tranquil">üåø Tranquil Landscapes</button>
                            <button class="category-btn" data-category="epic">ÔøΩ Epic Moments</button>
                            <button class="category-btn" data-category="cyberpunk">üåÜ Cyberpunk</button>
                        </div>
                    </div>                <!-- Games -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-400 uppercase mb-3">Games</h3>
                    <div class="space-y-1 max-h-96 overflow-y-auto scrollbar-hide">
                        <button class="category-btn" data-category="death-stranding">Death Stranding</button>
                        <button class="category-btn" data-category="arkham">Batman Arkham</button>
                        <button class="category-btn" data-category="dishonored">Dishonored</button>
                        <button class="category-btn" data-category="watchdogs">Watch Dogs 2</button>
                        <button class="category-btn" data-category="spiderman">Spider-Man 2</button>
                        <button class="category-btn" data-category="skyrim">Skyrim</button>
                        <button class="category-btn" data-category="metro">Metro Exodus</button>
                        <button class="category-btn" data-category="witcher">The Witcher 3</button>
                        <button class="category-btn" data-category="madmax">Mad Max</button>
                        <button class="category-btn" data-category="prey">Prey</button>
                        <button class="category-btn" data-category="specops">Spec Ops: The Line</button>
                        <button class="category-btn" data-category="mgs">MGS Delta</button>
                        <button class="category-btn" data-category="ac-odyssey">AC Odyssey</button>
                        <button class="category-btn" data-category="longdark">The Long Dark</button>
                        <button class="category-btn" data-category="dyinglight">Dying Light</button>
                        <button class="category-btn" data-category="forza">Forza Horizon</button>
                        <button class="category-btn" data-category="uncharted">Uncharted 4</button>
                        <button class="category-btn" data-category="fallout">Fallout 3</button>
                        <button class="category-btn" data-category="battlefront">Star Wars BF2</button>
                        <button class="category-btn" data-category="disco-elysium">Disco Elysium</button>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Main Content -->
        <main class="flex-1">
            <div class="mb-12 text-center">
                <h1 class="text-5xl font-bold mb-3" style="background: linear-gradient(135deg, #a787ff, #6366f1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                    <span id="categoryTitle">‚ú® All Collections</span>
                </h1>
                <p class="text-gray-400 text-lg">
                    <span id="wallpaperCount">0</span> wallpapers available
                </p>
            </div>

            <!-- Gallery Container (will hold collections) -->
            <div id="gallery">
                <!-- Collections will be inserted here by JavaScript -->
            </div>

            <!-- No Results -->
            <div id="noResults" class="hidden text-center py-20">
                <div class="text-6xl mb-4">üîç</div>
                <h3 class="text-xl font-semibold mb-2">No wallpapers found</h3>
                <p class="text-gray-400">Try a different search or category</p>
            </div>
        </main>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">√ó</button>
            <div class="bg-[#13131a] rounded-xl overflow-hidden border border-gray-800">
                <img id="modalImage" src="" alt="" class="w-full max-h-[70vh] object-contain">
                <div class="p-6">
                    <h2 id="modalTitle" class="text-2xl font-bold mb-2"></h2>
                    <p id="modalGame" class="text-gray-400 mb-4"></p>
                    <div class="flex flex-wrap gap-2 mb-4" id="modalTags"></div>
                    <div class="flex gap-3">
                        <button 
                            id="downloadBtn"
                            class="flex-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center justify-center gap-2"
                        >
                            <span>‚¨á</span> Download
                        </button>
                        <button 
                            class="bg-[#1a1a24] hover:bg-[#252530] text-white font-semibold py-3 px-6 rounded-lg transition border border-gray-700"
                            onclick="closeModal()"
                        >
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Complete wallpapers collection - Organized by featured/epic first, then variety
        const allWallpapers = [
            // === FEATURED EPIC PICKS (Mixed games for variety) ===
            { id: 51, title: "Spider Sky", game: "Spider-Man 2", image: "img/spidersky.gif", resolution: "3840x2160", mood: ["epic", "cyberpunk"], category: "spiderman", featured: true },
            { id: 20, title: "Night Walker", game: "Batman Arkham Knight", image: "img/OptimizedVideoWLPRS/BatmanKnight-NightWalker-VideoWLPR-web.mp4", resolution: "3840x2160", mood: ["dark", "epic", "cyberpunk"], category: "arkham", type: "video", featured: true },
            { id: 21, title: "Spooky and Cozy", game: "Dying Light 1", image: "https://www.youtube.com/embed/a6vym-JUiJg?autoplay=1&mute=1&loop=1&playlist=a6vym-JUiJg&controls=0&modestbranding=1", resolution: "3840x2160", mood: ["dark", "epic", "cyberpunk"], category: "arkham", type: "youtube", featured: true },
            { id: 82, title: "Kaer Morhen", game: "The Witcher 3", image: "img/OptimizedVideoWLPRS/The Witcher 3 2025.10.02 - 19.20.40.03-web.mp4", resolution: "3840x2160", mood: ["epic", "nature"], category: "witcher", type: "video", featured: true },
            { id: 60, title: "Dragon's Lair", game: "Skyrim", image: "img/OptimizedVideoWLPRS/Skyrim_VideoWLPR_04-web.mp4", resolution: "3840x2160", mood: ["epic", "nature"], category: "skyrim", type: "video", featured: true },
            { id: 1, title: "Sam Windswept Plains", game: "Death Stranding", image: "img/OptimizedVideoWLPRS/DeathStranding-SamWindy-VideoWLPR-web.mp4", resolution: "3840x2160", mood: ["melancholic", "nature", "epic"], category: "death-stranding", type: "video", featured: true },
            { id: 50, title: "Rainy Church", game: "Spider-Man 2", image: "img/OptimizedVideoWLPRS/SM2-Rainy-RaimiBlackSuit-Church-VideoWLPR-web.mp4", resolution: "3840x2160", mood: ["dark", "epic", "melancholic"], category: "spiderman", type: "video", featured: true },
            { id: 91, title: "San Francisco Hope", game: "Mad Max", image: "img/OptimizedVideoWLPRS/Mad-Max-SanFranciscoHope-VideoWLPR-web.mp4", resolution: "3840x2160", mood: ["epic", "melancholic"], category: "madmax", type: "video", featured: true },
            { id: 130, title: "Greek Village", game: "AC Odyssey", image: "img/ACOdissey-Vertical-Village-WLPR-08.png", resolution: "2560x1440", mood: ["epic", "nature"], category: "ac-odyssey", featured: true },
            { id: 120, title: "Snake Eater", game: "MGS Delta", image: "img/mgsdelta.png", resolution: "3840x2160", mood: ["nature", "epic"], category: "mgs", featured: true },
            { id: 171, title: "Treasure Hunt", game: "Uncharted 4", image: "img/wlprs/Uncharted4-Landscape-WLPR-3.webp", resolution: "3840x2160", mood: ["epic", "nature"], category: "uncharted", featured: true },
            { id: 140, title: "Wolves Hunt", game: "The Long Dark", image: "img/thelongdarkwolfs.png", resolution: "3840x2160", mood: ["dark", "nature", "melancholic"], category: "longdark", featured: true },
            { id: 41, title: "Marcus Focused", game: "Watch Dogs 2", image: "img/marcusittingfocused.jpg", resolution: "3840x2160", mood: ["melancholic", "cyberpunk"], category: "watchdogs", featured: true },
            
            // === DEATH STRANDING ===
            { id: 2, title: "Lonely Trek", game: "Death Stranding", image: "img/wlprs/DS-Landscape-WLPR-15.webp", resolution: "3840x2160", mood: ["melancholic", "nature"], category: "death-stranding" },
            { id: 3, title: "Mountain Journey", game: "Death Stranding", image: "img/wlprs/DS-Landscape-WLPR-16.webp", resolution: "3840x2160", mood: ["epic", "nature"], category: "death-stranding" },
            { id: 4, title: "Sam's Rest", game: "Death Stranding", image: "img/samsatori.gif", resolution: "3840x2160", mood: ["melancholic"], category: "death-stranding" },
            { id: 5, title: "Contemplation", game: "Death Stranding", image: "img/samizquierdasentado.png", resolution: "3840x2160", mood: ["melancholic"], category: "death-stranding" },
            { id: 6, title: "Vast Landscapes", game: "Death Stranding", image: "img/wlprs/DS-Landscape-WLPR-21.webp", resolution: "3840x2160", mood: ["nature", "melancholic"], category: "death-stranding" },
            { id: 7, title: "Riverside Path", game: "Death Stranding", image: "img/wlprs/DS-Landscape-WLPR-28.webp", resolution: "3840x2160", mood: ["nature", "melancholic"], category: "death-stranding" },
            { id: 8, title: "Golden Hour Trek", game: "Death Stranding", image: "img/wlprs/DS-Landscape-WLPR-29.webp", resolution: "3840x2160", mood: ["epic", "nature"], category: "death-stranding" },
            { id: 9, title: "Mountain Peak", game: "Death Stranding", image: "img/wlprs/DS-Landscape-WLPR-30.webp", resolution: "3840x2160", mood: ["epic", "nature"], category: "death-stranding" },
            { id: 10, title: "Sunset Delivery", game: "Death Stranding", image: "img/wlprs/DS-Landscape-WLPR-38.webp", resolution: "3840x2160", mood: ["melancholic", "nature"], category: "death-stranding" },
            
            // === BATMAN ARKHAM KNIGHT ===
            { id: 21, title: "Gotham Vigilante", game: "Batman Arkham Knight", image: "img/arkham.gif", resolution: "3840x2160", mood: ["dark", "cyberpunk"], category: "arkham" },
            { id: 22, title: "City Watcher", game: "Batman Arkham Knight", image: "img/wlprs/BatmanAK-Landscape-CityContemplate-WLPR-01.webp", resolution: "3840x2160", mood: ["dark", "cyberpunk"], category: "arkham" },
            { id: 23, title: "Rooftop Patrol", game: "Batman Arkham Knight", image: "img/wlprs/BatmanAK-Landscape-CityWalker-WLPR-01.webp", resolution: "3840x2160", mood: ["dark", "epic"], category: "arkham" },
            { id: 24, title: "Gotham Skyline", game: "Batman Arkham Knight", image: "img/wlprs/BatmanAK-Landscape-CityWalker-WLPR-02.webp", resolution: "3840x2160", mood: ["dark", "cyberpunk"], category: "arkham" },
            { id: 25, title: "Batmobile Ready", game: "Batman Arkham Knight", image: "img/wlprs/BatmanAK-Landscape-Batmobile-WLPR-02.webp", resolution: "3840x2160", mood: ["epic", "dark"], category: "arkham" },

            // === DISHONORED ===
            { id: 30, title: "Dunwall Basement", game: "Dishonored", image: "img/DishonoredDLC-Landscape-InsideBasement-WLPR-02.png", resolution: "3840x2160", mood: ["dark", "melancholic"], category: "dishonored" },
            { id: 31, title: "Brigmore Witches", game: "Dishonored", image: "img/wlprs/DishonoredDLC-Landscape-InsideBasement-WLPR-02.webp", resolution: "3840x2160", mood: ["dark", "melancholic"], category: "dishonored" },
            { id: 32, title: "Tower View", game: "Dishonored", image: "img/wlprs/DishonoredDLC-Vertical-WLPR-10.webp", resolution: "2560x1440", mood: ["epic", "dark"], category: "dishonored" },
            { id: 33, title: "Karnaca Rooftops", game: "Dishonored", image: "img/wlprs/DishonoredDLC-Vertical-WLPR-13.webp", resolution: "2560x1440", mood: ["dark"], category: "dishonored" },

            // === WATCH DOGS 2 ===
            { id: 40, title: "Marcus on Water", game: "Watch Dogs 2", image: "img/OptimizedVideoWLPRS/WD2-Marcus-WaterHouses-VideoWLPR-web.mp4", resolution: "3840x2160", mood: ["cyberpunk", "nature"], category: "watchdogs", type: "video" },
            { id: 41, title: "Marcus Focused", game: "Watch Dogs 2", image: "img/marcusittingfocused.jpg", resolution: "3840x2160", mood: ["melancholic", "cyberpunk"], category: "watchdogs" },
            { id: 42, title: "San Francisco View", game: "Watch Dogs 2", image: "img/sanfracampview.jpg", resolution: "3840x2160", mood: ["nature", "epic"], category: "watchdogs" },
            { id: 43, title: "City Hacker", game: "Watch Dogs 2", image: "img/wlprs/WD2-Landscape-WLPR-05.webp", resolution: "3840x2160", mood: ["cyberpunk"], category: "watchdogs" },
            { id: 44, title: "Dedsec Member", game: "Watch Dogs 2", image: "img/wlprs/WD2-Landscape-WLPR-06.webp", resolution: "3840x2160", mood: ["cyberpunk"], category: "watchdogs" },
            { id: 45, title: "Urban Explorer", game: "Watch Dogs 2", image: "img/wlprs/WD2-Landscape-WLPR-07.webp", resolution: "3840x2160", mood: ["cyberpunk"], category: "watchdogs" },
            { id: 46, title: "Night Hack", game: "Watch Dogs 2", image: "img/wlprs/WD2-Landscape-WLPR-09.webp", resolution: "3840x2160", mood: ["dark", "cyberpunk"], category: "watchdogs" },
            { id: 47, title: "SF Bay Area", game: "Watch Dogs 2", image: "img/wlprs/WD2-Landscape-WLPR-10.webp", resolution: "3840x2160", mood: ["nature", "cyberpunk"], category: "watchdogs" },

            // === SPIDER-MAN 2 ===
            { id: 50, title: "Rainy Church", game: "Spider-Man 2", image: "img/OptimizedVideoWLPRS/SM2-Rainy-RaimiBlackSuit-Church-VideoWLPR-web.mp4", resolution: "3840x2160", mood: ["dark", "epic", "melancholic"], category: "spiderman", type: "video" },
            { id: 51, title: "Spider Sky", game: "Spider-Man 2", image: "img/spidersky.gif", resolution: "3840x2160", mood: ["epic", "cyberpunk"], category: "spiderman" },
            { id: 52, title: "City Swing", game: "Spider-Man 2", image: "img/OptimizedVideoWLPRS/SM2-SkyView-VideoWLPR 2-web.mp4", resolution: "3840x2160", mood: ["epic", "cyberpunk"], category: "spiderman", type: "video" },
            { id: 53, title: "Web Slinger", game: "Spider-Man 2", image: "img/wlprs/SP2-Landscape-WLPR-15.webp", resolution: "3840x2160", mood: ["epic"], category: "spiderman" },
            { id: 54, title: "Manhattan View", game: "Spider-Man 2", image: "img/wlprs/SP2-Landscape-WLPR-21.webp", resolution: "3840x2160", mood: ["epic", "cyberpunk"], category: "spiderman" },

            // === SKYRIM ===
            { id: 60, title: "Dragon's Lair", game: "Skyrim", image: "img/OptimizedVideoWLPRS/Skyrim_VideoWLPR_04-web.mp4", resolution: "3840x2160", mood: ["epic", "nature"], category: "skyrim", type: "video" },
            { id: 61, title: "Northern Lights", game: "Skyrim", image: "img/OptimizedVideoWLPRS/Skyrim_VideoWLPR_09-web.mp4", resolution: "3840x2160", mood: ["epic", "nature"], category: "skyrim", type: "video" },
            { id: 62, title: "Mountain Pass", game: "Skyrim", image: "img/OptimizedVideoWLPRS/Skyrim_VideoWLPR_10-web.mp4", resolution: "3840x2160", mood: ["nature", "melancholic"], category: "skyrim", type: "video" },
            { id: 63, title: "Whiterun Plains", game: "Skyrim", image: "img/OptimizedVideoWLPRS/Skyrim_VideoWLPR_12-web.mp4", resolution: "3840x2160", mood: ["nature", "epic"], category: "skyrim", type: "video" },
            { id: 64, title: "Snowy Peaks", game: "Skyrim", image: "img/OptimizedVideoWLPRS/Skyrim_VideoWLPR_15-web.mp4", resolution: "3840x2160", mood: ["nature", "melancholic"], category: "skyrim", type: "video" },

            // === METRO EXODUS ===
            { id: 70, title: "Post-Apocalyptic Russia", game: "Metro Exodus", image: "img/OptimizedVideoWLPRS/MetroExodus_01-web.mp4", resolution: "3840x2160", mood: ["dark", "melancholic"], category: "metro", type: "video" },
            { id: 71, title: "Aurora Train", game: "Metro Exodus", image: "img/OptimizedVideoWLPRS/MetroExodus_03-web.mp4", resolution: "3840x2160", mood: ["melancholic", "epic"], category: "metro", type: "video" },
            { id: 72, title: "Frozen Wasteland", game: "Metro Exodus", image: "img/OptimizedVideoWLPRS/MetroExodus_04-web.mp4", resolution: "3840x2160", mood: ["melancholic", "nature"], category: "metro", type: "video" },
            { id: 73, title: "Artyom's Journey", game: "Metro Exodus", image: "img/OptimizedVideoWLPRS/MetroExodus_05-web.mp4", resolution: "3840x2160", mood: ["dark", "melancholic"], category: "metro", type: "video" },
            { id: 74, title: "Nuclear Winter", game: "Metro Exodus", image: "img/wlprs/ME-Artyiom-Landscape-WLPR-09.webp", resolution: "3840x2160", mood: ["dark", "melancholic"], category: "metro" },
            { id: 75, title: "Survivor's View", game: "Metro Exodus", image: "img/wlprs/ME-Artyiom-Landscape-WLPR-17.webp", resolution: "3840x2160", mood: ["melancholic", "nature"], category: "metro" },

            // === THE WITCHER 3 ===
            { id: 80, title: "Geralt's Path", game: "The Witcher 3", image: "img/OptimizedVideoWLPRS/The Witcher 3 2025.10.02 - 19.17.38.01-web.mp4", resolution: "3840x2160", mood: ["epic", "nature"], category: "witcher", type: "video" },
            { id: 81, title: "Velen Swamps", game: "The Witcher 3", image: "img/OptimizedVideoWLPRS/The Witcher 3 2025.10.02 - 19.19.02.02-web.mp4", resolution: "3840x2160", mood: ["dark", "nature"], category: "witcher", type: "video" },
            { id: 82, title: "Kaer Morhen", game: "The Witcher 3", image: "img/OptimizedVideoWLPRS/The Witcher 3 2025.10.02 - 19.20.40.03-web.mp4", resolution: "3840x2160", mood: ["epic", "nature"], category: "witcher", type: "video" },
            { id: 83, title: "Toussaint Vineyards", game: "The Witcher 3", image: "img/OptimizedVideoWLPRS/The Witcher 3 2025.10.02 - 19.34.02.08-web.mp4", resolution: "3840x2160", mood: ["nature", "epic"], category: "witcher", type: "video" },
            { id: 84, title: "Novigrad Nights", game: "The Witcher 3", image: "img/wlprs/The Witcher 3 Screenshot 2025.10.02 - 14.48.30.93.webp", resolution: "3840x2160", mood: ["dark", "cyberpunk"], category: "witcher" },
            { id: 85, title: "Skellige Islands", game: "The Witcher 3", image: "img/wlprs/The Witcher 3 Screenshot 2025.10.02 - 14.50.01.37.webp", resolution: "3840x2160", mood: ["nature", "melancholic"], category: "witcher" },

            // === MAD MAX ===
            { id: 90, title: "Moonlight Lighthouse", game: "Mad Max", image: "img/OptimizedVideoWLPRS/Mad-Max-MoonLightHouse-VideoWLPR-web.mp4", resolution: "3840x2160", mood: ["melancholic", "dark"], category: "madmax", type: "video" },
            { id: 91, title: "San Francisco Hope", game: "Mad Max", image: "img/OptimizedVideoWLPRS/Mad-Max-SanFranciscoHope-VideoWLPR-web.mp4", resolution: "3840x2160", mood: ["epic", "melancholic"], category: "madmax", type: "video" },
            { id: 92, title: "Under the Bridge", game: "Mad Max", image: "img/OptimizedVideoWLPRS/Mad-Max-UnderSanFrancisco-VideoWLPR-web.mp4", resolution: "3840x2160", mood: ["dark", "melancholic"], category: "madmax", type: "video" },
            { id: 93, title: "Wasteland Warrior", game: "Mad Max", image: "img/wlprs/Mad Max Screenshot 2025.08.30 - 11.14.54.76.webp", resolution: "3840x2160", mood: ["epic", "dark"], category: "madmax" },

            // === PREY ===
            { id: 100, title: "Talos I Exterior", game: "Prey", image: "img/OptimizedVideoWLPRS/Prey (2017) 2025.09.08 - 18.00.41.02 - Trm-web.mp4", resolution: "3840x2160", mood: ["dark", "epic"], category: "prey", type: "video" },
            { id: 101, title: "Space Station", game: "Prey", image: "img/OptimizedVideoWLPRS/Prey (2017) 2025.09.08 - 18.03.51.04-web.mp4", resolution: "3840x2160", mood: ["dark", "epic"], category: "prey", type: "video" },
            { id: 102, title: "Morgan Yu", game: "Prey", image: "img/wlprs/Prey (2017) Screenshot 2025.09.08 - 17.38.08.24.webp", resolution: "3840x2160", mood: ["dark"], category: "prey" },

            // === SPEC OPS: THE LINE ===
            { id: 110, title: "Dubai Ruins", game: "Spec Ops: The Line", image: "img/OptimizedVideoWLPRS/SpecOps_VideoWLPR_03-web.mp4", resolution: "3840x2160", mood: ["dark", "melancholic"], category: "specops", type: "video" },
            { id: 111, title: "Desert Storm", game: "Spec Ops: The Line", image: "img/OptimizedVideoWLPRS/SpecOps_VideoWLPR_04-web.mp4", resolution: "3840x2160", mood: ["epic", "dark"], category: "specops", type: "video" },
            { id: 112, title: "Sandstorm", game: "Spec Ops: The Line", image: "img/OptimizedVideoWLPRS/SpecOps_VideoWLPR_07-web.mp4", resolution: "3840x2160", mood: ["dark", "melancholic"], category: "specops", type: "video" },

            // === METAL GEAR SOLID DELTA ===
            { id: 120, title: "Snake Eater", game: "MGS Delta", image: "img/mgsdelta.png", resolution: "3840x2160", mood: ["nature", "epic"], category: "mgs" },
            { id: 121, title: "Jungle Ops", game: "MGS Delta", image: "img/wlprs/MGSD-Landscape-WLPR-04.webp", resolution: "3840x2160", mood: ["nature", "dark"], category: "mgs" },
            { id: 122, title: "CQC Master", game: "MGS Delta", image: "img/wlprs/MGSD-Landscape-WLPR-05.webp", resolution: "3840x2160", mood: ["nature"], category: "mgs" },
            { id: 123, title: "Tselinoyarsk", game: "MGS Delta", image: "img/wlprs/MGSD-Landscape-WLPR-06.webp", resolution: "3840x2160", mood: ["nature", "melancholic"], category: "mgs" },

            // === ASSASSIN'S CREED ODYSSEY ===
            { id: 130, title: "Greek Village", game: "AC Odyssey", image: "img/ACOdissey-Vertical-Village-WLPR-08.png", resolution: "2560x1440", mood: ["epic", "nature"], category: "ac-odyssey" },
            { id: 131, title: "Ancient Greece", game: "AC Odyssey", image: "img/wlprs/ACOdissey-Landscape-StatueOnTheVillage-WLPR-06.webp", resolution: "3840x2160", mood: ["epic", "nature"], category: "ac-odyssey" },
            { id: 132, title: "Mediterranean View", game: "AC Odyssey", image: "img/wlprs/ACOdissey-Landscape-VillageSkyView-WLPR-06.webp", resolution: "3840x2160", mood: ["nature", "epic"], category: "ac-odyssey" },

            // === THE LONG DARK ===
            { id: 140, title: "Wolves Hunt", game: "The Long Dark", image: "img/thelongdarkwolfs.png", resolution: "3840x2160", mood: ["dark", "nature", "melancholic"], category: "longdark" },
            { id: 141, title: "Frozen Wilderness", game: "The Long Dark", image: "img/wlprs/TheLongDark-Landscape-WLPR-1.webp", resolution: "3840x2160", mood: ["melancholic", "nature"], category: "longdark" },
            { id: 142, title: "Survival", game: "The Long Dark", image: "img/wlprs/TheLongDark-Landscape-WLPR-2.webp", resolution: "3840x2160", mood: ["melancholic", "nature"], category: "longdark" },

            // === DYING LIGHT ===
            { id: 150, title: "The Beast Awakens", game: "Dying Light", image: "img/OptimizedVideoWLPRS/Dying Light  The Beast 2025.09.25 - 19.01.34.02-web.mp4", resolution: "3840x2160", mood: ["dark", "epic"], category: "dyinglight", type: "video" },
            { id: 151, title: "Zombie Apocalypse", game: "Dying Light", image: "img/wlprs/Dying Light  The Beast Screenshot 2025.09.21 - 13.33.06.20.webp", resolution: "3840x2160", mood: ["dark"], category: "dyinglight" },

            // === FORZA HORIZON 4 & 5 ===
            { id: 160, title: "British Countryside", game: "Forza Horizon 4", image: "img/wlprs/FH4-Landscape-WLPR-130.webp", resolution: "3840x2160", mood: ["nature", "epic"], category: "forza" },
            { id: 161, title: "Speed Demon", game: "Forza Horizon 4", image: "img/wlprs/FH4-Landscape-WLPR-149.webp", resolution: "3840x2160", mood: ["epic"], category: "forza" },
            { id: 162, title: "Mexico Rally", game: "Forza Horizon 5", image: "img/wlprs/FH5-Landscape-WLPR-01.webp", resolution: "3840x2160", mood: ["nature", "epic"], category: "forza" },
            { id: 163, title: "Desert Race", game: "Forza Horizon 5", image: "img/wlprs/FH5-Landscape-WLPR-02.webp", resolution: "3840x2160", mood: ["epic"], category: "forza" },

            // === UNCHARTED 4 ===
            { id: 170, title: "Drake's Fortune", game: "Uncharted 4", image: "img/wlprs/Uncharted4-Landscape-WLPR-1.webp", resolution: "3840x2160", mood: ["epic", "nature"], category: "uncharted" },
            { id: 171, title: "Treasure Hunt", game: "Uncharted 4", image: "img/wlprs/Uncharted4-Landscape-WLPR-3.webp", resolution: "3840x2160", mood: ["epic", "nature"], category: "uncharted" },
            { id: 172, title: "Adventure Awaits", game: "Uncharted 4", image: "img/wlprs/Uncharted4-Landscape-WLPR-4.webp", resolution: "3840x2160", mood: ["nature", "epic"], category: "uncharted" },

            // === FALLOUT 3 ===
            { id: 180, title: "Capital Wasteland", game: "Fallout 3", image: "img/OptimizedVideoWLPRS/Fallout 3 2025.09.27 - 23.21.41.03-web.mp4", resolution: "3840x2160", mood: ["dark", "melancholic"], category: "fallout", type: "video" },

            // === STAR WARS BATTLEFRONT 2 ===
            { id: 190, title: "Pink Sky Empire", game: "Star Wars Battlefront 2", image: "img/wlprs/StarWarsBF2-Landscape-PinkSkyView-WLPR-01.webp", resolution: "3840x2160", mood: ["epic", "cyberpunk"], category: "battlefront" },

            // === DISCO ELYSIUM ===
            { id: 200, title: "Martinaise District", game: "Disco Elysium", image: "img/discoelysium.webp", resolution: "3840x2160", mood: ["melancholic", "dark"], category: "disco-elysium" },
            { id: 201, title: "Detective's View", game: "Disco Elysium", image: "img/wlprs/DiscoElysium-Landscape-Martinaisse-WLPR-1.webp", resolution: "3840x2160", mood: ["melancholic", "dark"], category: "disco-elysium" },
        ];

        // Create final wallpapers array with smart organization
        const wallpapers = allWallpapers;

        // Define collections
        const collections = [
            {
                id: "dark-moody",
                title: "Dark & Moody",
                emoji: "üåô",
                subtitle: "Cinematic, noir, and atmospheric gaming moments",
                filter: (w) => w.mood.includes('dark') || w.mood.includes('melancholic')
            },
            {
                id: "tranquil",
                title: "Tranquil Landscapes",
                emoji: "üåø",
                subtitle: "Peaceful, meditative, and serene atmospheres",
                filter: (w) => w.mood.includes('nature') && !w.mood.includes('epic')
            },
            {
                id: "epic",
                title: "Epic Moments",
                emoji: "üî•",
                subtitle: "Action-packed, dynamic, and breathtaking scenes",
                filter: (w) => w.mood.includes('epic')
            },
            {
                id: "cyberpunk",
                title: "Cyberpunk",
                emoji: "üåÜ",
                subtitle: "Futuristic cities and neon-lit urban environments",
                filter: (w) => w.mood.includes('cyberpunk')
            }
        ];

        let currentCategory = 'all';
        let currentSearch = '';

        // Render gallery by collections
        function renderGallery() {
            const gallery = document.getElementById('gallery');
            const noResults = document.getElementById('noResults');
            
            let filtered = wallpapers;
            
            // Filter by search first
            if (currentSearch) {
                filtered = filtered.filter(w => 
                    w.title.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    w.game.toLowerCase().includes(currentSearch.toLowerCase())
                );
            }
            
            // Show/hide no results
            if (filtered.length === 0) {
                gallery.innerHTML = '';
                noResults.classList.remove('hidden');
                document.getElementById('wallpaperCount').textContent = 0;
                return;
            }
            
            noResults.classList.add('hidden');
            
            // Render by collection or single category
            if (currentCategory === 'all') {
                // Show all collections
                gallery.innerHTML = '';
                let totalCount = 0;
                
                collections.forEach(collection => {
                    const collectionWallpapers = filtered.filter(collection.filter).slice(0, 8); // Limit to 8
                    if (collectionWallpapers.length === 0) return;
                    
                    totalCount += collectionWallpapers.length;
                    
                    const sectionEl = document.createElement('div');
                    sectionEl.className = 'collection-section';
                    sectionEl.innerHTML = `
                        <div class="section-header">
                            <h2 class="section-title">
                                <span class="section-emoji">${collection.emoji}</span>${collection.title}
                            </h2>
                            <p class="section-subtitle">${collection.subtitle}</p>
                            <p class="section-count">${collectionWallpapers.length} wallpapers</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${collectionWallpapers.map(w => createWallpaperCard(w)).join('')}
                        </div>
                    `;
                    gallery.appendChild(sectionEl);
                });
                
                document.getElementById('wallpaperCount').textContent = totalCount;
                document.getElementById('categoryTitle').textContent = '‚ú® All Collections';
                
            } else {
                // Show single collection/category
                const collection = collections.find(c => c.id === currentCategory);
                
                if (collection) {
                    filtered = filtered.filter(collection.filter);
                }
                
                document.getElementById('wallpaperCount').textContent = filtered.length;
                
                gallery.innerHTML = `
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${filtered.map(w => createWallpaperCard(w)).join('')}
                    </div>
                `;
            }
        }

        // Create wallpaper card HTML
        function createWallpaperCard(w) {
            let mediaHTML;
            
            if (w.type === 'youtube') {
                mediaHTML = `<iframe src="${w.image}" style="width: 100%; height: 240px; border: none; pointer-events: none;" allowfullscreen></iframe>`;
            } else if (w.type === 'video') {
                mediaHTML = `<video src="${w.image}" autoplay loop muted playsinline style="width: 100%; height: 240px; object-fit: cover;"></video>`;
            } else {
                mediaHTML = `<img src="${w.image}" alt="${w.title}" loading="lazy">`;
            }
            
            return `
                <div class="wallpaper-card" onclick="openModal(${w.id})">
                    ${mediaHTML}
                    <div class="p-4">
                        <h3 class="font-semibold text-lg mb-1">${w.title}</h3>
                        <p class="text-sm text-gray-400 mb-2">${w.game}</p>
                        <div class="flex items-center justify-between">
                            <span class="tag">${w.resolution}</span>
                            ${(w.type === 'video' || w.type === 'youtube') ? '<span class="tag">üé¨ Video</span>' : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        // Open modal
        function openModal(id) {
            const wallpaper = wallpapers.find(w => w.id === id);
            if (!wallpaper) return;
            
            const modalImageContainer = document.getElementById('modalImage').parentElement;
            
            if (wallpaper.type === 'video') {
                modalImageContainer.innerHTML = `<video id="modalImage" src="${wallpaper.image}" autoplay loop muted controls class="w-full max-h-[70vh] object-contain"></video>`;
            } else {
                modalImageContainer.innerHTML = `<img id="modalImage" src="${wallpaper.image}" alt="${wallpaper.title}" class="w-full max-h-[70vh] object-contain">`;
            }
            
            document.getElementById('modalTitle').textContent = wallpaper.title;
            document.getElementById('modalGame').textContent = wallpaper.game;
            document.getElementById('modalTags').innerHTML = wallpaper.mood.map(m => 
                `<span class="tag">${m}</span>`
            ).join('');
            
            document.getElementById('downloadBtn').onclick = () => {
                // Implement actual download logic here
                const link = document.createElement('a');
                link.href = wallpaper.image;
                link.download = `${wallpaper.title.replace(/\s+/g, '-')}-BetterWLPRS.${wallpaper.type === 'video' ? 'mp4' : 'webp'}`;
                link.click();
            };
            
            document.getElementById('modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close modal
        function closeModal() {
            document.getElementById('modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Category buttons
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // Update active state
                document.querySelectorAll('.category-btn').forEach(b => 
                    b.classList.remove('active')
                );
                btn.classList.add('active');
                
                // Update category
                currentCategory = btn.dataset.category;
                
                // Update title based on collection
                if (currentCategory === 'all') {
                    document.getElementById('categoryTitle').textContent = '‚ú® All Collections';
                } else {
                    const collection = collections.find(c => c.id === currentCategory);
                    if (collection) {
                        document.getElementById('categoryTitle').textContent = collection.emoji + ' ' + collection.title;
                    } else {
                        document.getElementById('categoryTitle').textContent = btn.textContent.trim();
                    }
                }
                
                renderGallery();
            });
        });

        // Search
        document.getElementById('searchInput').addEventListener('input', (e) => {
            currentSearch = e.target.value;
            renderGallery();
        });

        // Close modal on escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        // Close modal on background click
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') closeModal();
        });

        // Toggle sidebar
        const toggleBtn = document.getElementById('toggleSidebar');
        const sidebarContainer = document.querySelector('.sidebar-container');
        let sidebarCollapsed = true; // Start collapsed by default

        toggleBtn.addEventListener('click', () => {
            sidebarCollapsed = !sidebarCollapsed;
            sidebarContainer.classList.toggle('collapsed');
            toggleBtn.textContent = sidebarCollapsed ? '‚ñ∂' : '‚óÄ';
            toggleBtn.title = sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar';
        });

        // Initial render
        renderGallery();
    </script>
</body>
</html>